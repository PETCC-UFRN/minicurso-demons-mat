<!DOCTYPE html>
<html>
    <head>
        <title>Shell Avan√ßado</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./assets/css/styles.css">
        <link rel="stylesheet" href="/minicurso-demons-mat/assets/css/syntax.css">
        <link rel="icon" href="https://i.ibb.co/RD7XwYH/pet-logo.png" type="image/png">
    </head>
    <body class="oldschool">
        <header>
    <nav class="oldschoolnav">
        <ul class="listaNavegacao">
            <li>
                <a href="index" style="text-decoration:none;">/home</a>
            </li>
            <li>
                <a href="aulas" style="text-decoration:none;">/aulas</a>
            </li> 
            <li>
                <a href="sobre" style="text-decoration:none;">/sobre</a>
            </li>
        </ul>
    </nav>
</header>

        <div>
            <main>
                <h1 id="shell-avan√ßado">Shell Avan√ßado</h1>

<div id="sumario" class="sumario-oldschool">
    <h1>Sum√°rio</h1>
  <details>
    <summary><a href="#expandindo-a-ideia-de-comandos">Expandindo a ideia de comandos</a></summary>
      <ul>
        <li><a href="#aliases">Aliases</a></li>
        <li><a href="#vendo-um-comando-como-arquivo">Vendo um comando como arquivo</a></li>
      </ul>
    </details>
    <details>
    <summary><a href="#instalando-programas-no-linux">Instalando programas no Linux</a></summary>
      <ul>
        <li><a href="#manualmente">Manualmente</a></li>
        <li><a href="#gerenciadores-de-pacote">Gerenciadores de pacote</a></li>
      </ul>
    </details>
    <details>
    <summary><a href="#editores-de-texto">Editores de texto</a></summary>
      <ul>
          <li><a href="#escolhendo-um-editor-de-texto">Escolhendo um editor de texto</a></li>
      </ul>
    </details>
    <details>
    <summary><a href="#Shell-scripting">Shell scripting</a></summary>
      <ul>
        <li><a href="#por-qu√™-Shell-scripting">Por qu√™ Shell scripting?</a></li>
        <li><a href="#a-primeira-linha-shebang">A primeira linha: #! (shebang)</a></li>
        <li><a href="#vari√°veis">Vari√°veis</a></li>
        <li><a href="#expans√µes">Expans√µes</a></li>
        <li><a href="#condicionais">Condicionais</a></li>
        <li><a href="#operadores-l√≥gicos-no-Shell">Operadores l√≥gicos no Shell</a></li>
        <li><a href="#fun√ß√µes">Fun√ß√µes</a></li>
        <li><a href="#loops">Loops</a></li>
      </ul>
    </details>
    <details>
      <summary><a href="#exerc√≠cios">Exerc√≠cios</a></summary>
    </details>
  <button class="toggle-button" id="toggle-button">
  
      Esconder Sum√°rio
  
  </button>
  </div>

<h2 id="expandindo-a-ideia-de-comandos">Expandindo a ideia de comandos</h2>

<h3 id="aliases">Aliases</h3>

<p>No decorrer do dia anterior, espero que voc√™ tenha notado que a maioria dos comandos √© uma abrevia√ß√£o de alguma
palavra em ingl√™s, que passa uma ideia inicial do que determinado comando faz. Por exemplo: o <code class="language-plaintext highlighter-rouge">ls</code>
significa <strong>L</strong>i<strong>S</strong>t, o <code class="language-plaintext highlighter-rouge">cp</code> significa <strong>C</strong>o<strong>P</strong>y, o <code class="language-plaintext highlighter-rouge">rm</code> significa <strong>R</strong>e<strong>M</strong>ove e assim
por diante. Al√©m disso, espero que voc√™ perceba que, se √© algo que voc√™ usa com frequ√™ncia, √© inconveniente
digitar uma palavra longa toda vez que precisa invocar essa fun√ß√£o. Esse mesmo sentimento
motivou os criadores do sistema a abreviar o nome dos comandos e a criar o que chamamos de <em>alias</em>.</p>

<p>Imagine que voc√™ usa o seguinte comando com frequ√™ncia:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">--color</span><span class="o">=</span>auto <span class="nt">--almost-all</span> <span class="nt">--classify</span> <span class="nt">-l</span> <span class="nt">--human-readable</span>
</code></pre></div></div>

<p>E a maioria das vezes que voc√™ quer listar algo, voc√™ usa essa varia√ß√£o do <code class="language-plaintext highlighter-rouge">ls</code>. Se voc√™ n√£o tem a capacidade
de digitar instantaneamente o que pensa, deve ser uma chatice ter que digitar isso
muitas vezes. Assim, o que podemos fazer √© dar ao Shell um apelido para este comando. Ent√£o, em vez
de ter que digitar essa coisa toda, poder√≠amos apenas falar <code class="language-plaintext highlighter-rouge">meuls</code> e o Shell saber exatamente o que
fazer. A maneira de fazer isso √© a seguinte:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">meuls</span><span class="o">=</span><span class="s1">'ls --color=auto --almost-all --classify -l --human-readable'</span>
</code></pre></div></div>

<p>Agora, durante essa sess√£o do Shell, sempre que digitarmos <code class="language-plaintext highlighter-rouge">meuls</code>, o Shell vai ‚Äúexpandir‚Äù esse apelido
e vai invocar seu real significado. E, de certa forma, conseguimos criar, com isso, um ‚Äúnovo comando‚Äù.</p>

<h3 id="vendo-um-comando-como-arquivo">Vendo um comando como arquivo</h3>

<p>Agora, uma reflex√£o interessante a se fazer √© pensar como o Shell sabe quais s√£o os apelidos que demos,
ou, at√© mesmo, o que √© comando ou n√£o.
<a href="/minicurso-demons-mat/primeiroDia.html#comando-date-e-echo">Relembrando quando est√°vamos come√ßando a usar o Shell</a>, n√≥s n√£o
podemos simplesmente digitar qualquer coisa aleat√≥ria como <code class="language-plaintext highlighter-rouge">balubslbeuaba</code> e esperar que ele entenda e
fa√ßa algo. Logo, o que o Shell faz √©: armazenar, em uma vari√°vel, todos os lugares em que supostamente
existem programas que ele pode executar, e, quando voc√™ digita algo, ele vai procurar nesses lugares para ver se
de fato o que voc√™ digitou √© um programa que ele pode executar.</p>

<p>Como os comandos/programas s√£o simplesmente execut√°veis que est√£o em uma pasta ‚Äúespecial‚Äù, n√≥s podemos
perguntar onde eles est√£o com a seguinte linha:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span>whereis <span class="nb">ls</span>
<span class="go">ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz
</span></code></pre></div></div>

<p>O comando <code class="language-plaintext highlighter-rouge">whereis</code> mostra a localiza√ß√£o do execut√°vel de programas e a localiza√ß√£o da sua p√°gina no <code class="language-plaintext highlighter-rouge">man</code>. Sabendo disso, voc√™ pode executar o <code class="language-plaintext highlighter-rouge">ls</code> ou qualquer outro comando passando o caminho inteiro para seu
execut√°vel, da mesma forma que voc√™ usaria normalmente:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span>/usr/bin/ls <span class="nt">-l</span>
</code></pre></div></div>

<p>O Shell utilizada a vari√°vel <code class="language-plaintext highlighter-rouge">$PATH</code> para saber onde procurar esses comandos, e n√≥s podemos ver
o valor que ela armazena digitando o seguinte:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$PATH</span>
<span class="go">/usr/local/bin:/usr/bin:/home/user/.local/share/bin
</span></code></pre></div></div>

<p>A sa√≠da pode parecer estranha, mas isso representa v√°rios diret√≥rios separados <code class="language-plaintext highlighter-rouge">:</code>, e o Shell vai em cada um
deles procurando o que voc√™ digitou no terminal.</p>

<h2 id="instalando-programas-no-linux">Instalando programas no Linux</h2>

<h3 id="manualmente">Manualmente</h3>

<p>Agora que j√° sabemos o que de fato s√£o os comandos que utilizamos no terminal e como o Shell busca esses
comandos, n√≥s somos (finalmente) capazes de instalar qualquer programa no nosso computador. A ideia √©
bem intuitiva:</p>

<ol>
  <li>
    <p>Pegamos nosso execut√°vel pra colocar no <code class="language-plaintext highlighter-rouge">$PATH</code>:</p>

    <div style="text-align: center;">
 <img alt="Meme muito engra√ßado sobre arquivos do sistema" src="assets/images/linux_dia2_imagem1.jpeg" width="80%" />
 </div>
    <p><br /></p>
  </li>
  <li>
    <p>Queremos colocar o execut√°vel em dos diret√≥rios do <code class="language-plaintext highlighter-rouge">$PATH</code>:</p>

    <div style="text-align: center;">
 <img alt="Meme muito engra√ßado sobre arquivos do sistema" src="assets/images/linux_dia2_imagem2.jpeg" width="80%" />
 </div>
    <p><br /></p>
  </li>
  <li>
    <p><strong>Colocamos ele <code class="language-plaintext highlighter-rouge">$PATH</code></strong>!!!:</p>

    <div style="text-align: center;">
 <img alt="Meme muito engra√ßado sobre arquivos do sistema" src="assets/images/linux_dia2_imagem3.jpeg" width="80%" />
 </div>
    <p><br /></p>
  </li>
  <li>
    <p><strong>E pronto!!!</strong> Instalamos um programa!</p>
  </li>
</ol>

<p>√â simples assim mesmo, mas trabalhar dessa maneira √© um pouco desajeitado, pois existem programas que dependem
de outros arquivos para funcionar, como arquivos de configura√ß√£o, de dados, elementos gr√°ficos etc. N√£o podemos
simplesmente colocar o execut√°vel desse programa em um dos diret√≥rios do <code class="language-plaintext highlighter-rouge">$PATH</code> e esperar que ocorra tudo
bem.</p>

<p>O que fazemos, ent√£o?</p>

<p><a href="/minicurso-demons-mat/primeiroDia.html#links-simb√≥licos-sym-links">Lembra dos symlinks?</a>. Podemos us√°-los para colocar apenas
o atalho do execut√°vel no <code class="language-plaintext highlighter-rouge">PATH</code>, e a√≠, quando o Shell tentar rodar o programa, ele, na verdade, vai rodar o
original que est√° no diret√≥rio (de prefer√™ncia bem acess√≠vel e f√°cil de gerenciar) que voc√™ quiser.</p>

<p>Mas, isso n√£o significa que n√£o existam peculiaridades de programa para programa. √Äs vezes, precisaremos
descompactar o arquivo que cont√©m o execut√°vel do programa que baixamos da internet, ou, ent√£o, precisaremos
compilar o execut√°vel do programa, ou, por vezes, baixaremos apenas o execut√°vel‚Ä¶ Enfim, varia de programa para
programa. O que precisa ser feito, na maioria das vezes, estar√° na documenta√ß√£o do que voc√™ quer
instalar.</p>

<h3 id="gerenciadores-de-pacotes">Gerenciadores de pacotes</h3>

<p>Existem maneiras mais simples realizar instala√ß√µes no seu sistema sem ter que fazer o download do programa na
internet, compil√°-lo e adicion√°-lo ao <code class="language-plaintext highlighter-rouge">PATH</code>, mas voc√™ vai precisar de permiss√µes de superusu√°rio para
conseguir fazer isso, a maneira, sem d√∫vidas, mais utilizada hoje em dia √© utilizando o gerenciador de
pacote da sua distribui√ß√£o Linux.</p>

<p>Esses gerenciadores de pacotes abstraem o processo de baixar da internet, instalar, atualizar (se futuramente houver atualiza√ß√£o), pesquisar programas, e desinstal√°-los, no alcance de um comando.
Essa, inclusive, √© uma das grandes vantagens de usar o Linux no √¢mbito da computa√ß√£o, o processo de
configurar programas e suas deped√™ncias √© muito f√°cil e voc√™ tem total autonomia para investigar e resolver
problemas que possam vir a aparecer.</p>

<p>Como mencionado anteriormente, o uso do gerenciador de pacotes v√°ria de distribui√ß√£o para distribui√ß√£o, mas
vamos pegar como exemplo o gerenciador de pacotes da distruibui√ß√£o que originou o Ubuntu, o Debian.</p>

<h4 id="exemplo-com-o-uso-do-apt">Exemplo com o uso do <code class="language-plaintext highlighter-rouge">apt</code></h4>

<p>Distribui√ß√µes que nasceram do Debian, como o Ubuntu, usam o gerenciador de pacotes chamado <code class="language-plaintext highlighter-rouge">apt</code>, que nada
mais √© do que um programa que vem instalado no computador, assim como todos os outros que vimos at√© agora.
Logo, podemos investigar seu uso usando o <code class="language-plaintext highlighter-rouge">man</code> como amigo.</p>

<h5 id="tldr-to-long-didnt-read-the-manual">TL;DR (To Long Didn‚Äôt Read the manual)</h5>

<p>Mas, se voc√™ estiver com pregui√ßa de ler o <code class="language-plaintext highlighter-rouge">man</code>, aqui vai uma ajudinha:</p>

<ul>
  <li>
    <p><strong>Atualizar a lista de pacotes</strong>: Este comando atualiza a lista de pacotes dispon√≠veis a partir dos
reposit√≥rios configurados.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Instalar um pacote</strong>: Para instalar um pacote, deve-se usar o sub-comando <code class="language-plaintext highlighter-rouge">install</code> seguido do nome do
pacote.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>nome-do-pacote
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Remover um pacote</strong>: Para remover um pacote, voc√™ usa o sub-comando <code class="language-plaintext highlighter-rouge">remove</code>.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt remove nome-do-pacote
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Atualizar todos os pacotes instalados</strong>: Este comando atualiza todos os pacotes instalados para as
vers√µes mais recentes dispon√≠veis nos banco de dados do gerenciador.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt upgrade
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Pesquisar por um pacote</strong>: Voc√™ pode usar o <code class="language-plaintext highlighter-rouge">search</code> para procurar pacotes espec√≠ficos.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt search termo-de-busca
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Limpar pacotes desnecess√°rios</strong>: Ap√≥s uma atualiza√ß√£o ou remo√ß√£o de pacotes, voc√™ pode liberar espa√ßo
removendo pacotes que n√£o s√£o mais necess√°rios.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt autoremove
</code></pre></div>    </div>
  </li>
</ul>

<p>Na maioria das distribui√ß√µes, v√£o existir comandos ou combina√ß√µes de comandos equivalentes aos do <code class="language-plaintext highlighter-rouge">apt</code> e
e conforme o uso esse processo de instala√ß√£o, atualiza√ß√£o e remo√ß√£o se torna bem natural.</p>

<h2 id="editores-de-texto">Editores de texto</h2>

<p>Recapitulando um pouco: exploramos bastante o Shell, diferentes maneiras de combinar comandos, e como abrevi√°-los. Nos exerc√≠cios do dia anterior, voc√™s escreveram em diversos arquivos determinadas sequ√™ncias de comandos e, depois, foram capazes de realizar algumas a√ß√µes. Neste t√≥pico, vamos formalizar o que foi feito e expandir um pouco mais esse escopo.</p>

<p>Um Shell √© uma linguagem de programa√ß√£o, mais espec√≠ficamente uma linguagem de scripting assim como Python, Ruby e outras. Por ser uma linguagem de programa√ß√£o, um script em Shell nada mais √© do que uma sequ√™ncia de comandos que
existem no seu computador escritos num arquivo linha por linha, e, quando voc√™ executa o arquivo, seu sistema invoca o
Shell para interpretar o que ali foi escrito.</p>

<p>Com o que j√° vimos, somos plenamente capazes de escrever scripts simples, mas ainda falta dar mais alguns passos de
complexidade e aprender ferramentas que nos permitam trabalhar de maneira mais confort√°vel, isto √©, escrever em arquivos
sem depender de redirecionamento de streams (<em>stdin</em>, <em>stdout</em>, <em>stderr</em>) ou combina√ß√£o de comandos. Para conseguir
fazer isso, precisamos escolher o nosso editor de texto favorito e colocar a m√£o na massa.</p>

<h3 id="escolhendo-um-editor-de-texto">Escolhendo um editor de texto</h3>

<p>Provavelmente, seu sistema Linux j√° veio com alguns editores de texto para experimentar, uns mais dif√≠cies de aprender
do que outros, mas todos com suas pr√≥prias especialidades.</p>

<ul>
  <li>
    <p><a href="https://neovim.io/">(neo)</a><a href="https://www.vim.org/"><strong>vim</strong></a> (<strong>V</strong>i <strong>IM</strong>proved): O favorito de muitos programadores mas, os que vamos      listar adiante este √©, com certeza, o mais
  dif√≠cil para come√ßar a usar. Entretanto, passado a curva de aprendizado inicial, √© com certeza um dos editores de
  texto com a usabilidade mais prazerosa. A l√≥gica de modos de teclado, configura√ß√£o (isso se for o Neovim), e os atalhos
  pr√©-configurado tornam a escrita muito produtiva e divertida.</p>
  </li>
  <li>
    <p><a href="https://code.visualstudio.com/"><strong>vscode</strong></a> (<strong>V</strong>isual <strong>S</strong>tudio <strong>CODE</strong>): Todo programador j√° usou ou vai usar, pelo menos alguma vez na vida, o
  Visual Studio Code. Ele √© editor de texto da Microsoft, muito configur√°vel e fac√≠limo de come√ßar usar, al√©m de j√° vir com v√°rios
  recursos que abstraem sua configura√ß√£o e recursos para diferentes tipos de linguagem. Embora muitos vejam essa abstra√ß√£o como sua maior vantagem, tamb√©m pode ser vista como como sua maior desvantagem, pois pode ser muito estressante solucionar problemas sem conseguir entender claramente a causa.</p>
  </li>
  <li>
    <p><a href="https://www.nano-editor.org/"><strong>GNU nano</strong></a>: Assim como o Vim, ele √© um editor de texto leve que roda no terminal, por√©m, sua proposta √© se manter simples.
  N√£o √© poss√≠vel configurar extensivamente esse editor, mas √© muito f√°cil come√ßar a us√°-lo devido a sua
  interface informativa e pouca complexidade envolvendo o teclado.</p>
  </li>
</ul>

<p>Existem tamb√©m muitos outros editores de texto populares. Aqui est√£o alguns deles:</p>

<ul>
  <li><a href="https://www.gnu.org/software/emacs/"><strong>GNU emacs</strong></a></li>
  <li><a href="https://www.gnu.org/software/emacs/"><strong>Sublime Text</strong></a></li>
  <li><a href="https://zed.dev/"><strong>Zed</strong></a></li>
  <li><a href="https://notepad-plus-plus.org/downloads/"><strong>Notepad++</strong></a></li>
</ul>

<h2 id="shell-scripting">Shell scripting</h2>

<p><a href="/minicurso-demons-mat/primeiroDia.html#exerc√≠cios">Recapitulando um pouco os exerc√≠cios do primeiro dia desse curso</a>, em diversos momentos, foi escrita uma sequ√™ncia de comandos em um arquivo, que foi executada logo em seguida. Formalmente falando, o que voc√™ fez foi criar um script.</p>

<p>A ‚Äúlinguagem Shell‚Äù √© uma <em>linguagem de scripting</em>, e diferentemente de <a href="https://pt.wikipedia.org/wiki/Linguagem_compilada"><em>linguagens compiladas</em></a>, como C,
C++, Java e Rust (ü¶Ä rust mentioned!), que s√£o interpretadas, traduzidas para uma representa√ß√£o interna, e
ent√£o executada, os comandos de <em>linguagens de scripting</em> como o Shell, ‚Äúpulam‚Äù essa traduza√ß√£o interna e
s√£o diretamentes executados pelo interpretador.</p>

<p>A principal vantagem do uso de linguagens de scripting como ‚ÄúShell‚Äù, Python, Ruby e outras √© que elas
geralmente trabalham num n√≠vel que se assemelha a linguagem humana, o que permite que voc√™ lide mais
facilmente com tarefas envolvendo arquivos, diret√≥rios e programas. A principal desvantagem √© que essas
linguagens tendem a ser menos eficientes, entretanto, a troca vale muito a pena para programas que n√£o
precisam se preocupar com a perfomance.</p>

<h3 id="por-qu√™-shell-scripting">Por qu√™ Shell scripting?</h3>

<p>O primeiro motivo √© que, at√© este ponto do curso, n√≥s s√≥ trabalhamos com o Shell e escrevemos alguns scripts. Portanto, n√£o faria sentido estudar Python ou outra linguagem de script. O segundo e principal motivo √© que o Shell √© universal entre os sistemas Unix, o que significa que, uma vez escrito com cuidado, ele pode ser executado em qualquer sistema Unix. Al√©m disso, scripts de Shell s√£o extremamente f√°ceis de escrever, e √© bem sabido que s√£o muito √∫teis para automatizar tarefas. Em pouco tempo, voc√™ ter√° em m√£os uma ferramenta muito conveniente.</p>

<h3 id="a-primeira-linha--shebang">A primeira linha: #! (shebang)</h3>

<p>Como um script em Shell n√£o √© um programa compilado em linguagem de m√°quina, o nosso Kernel Linux n√£o sabe
diretamente o que fazer com ele, ent√£o precisamos dizer ao sistema que programa vai ser respons√°vel por
executar o nosso script. Para isso, usamos o <code class="language-plaintext highlighter-rouge">shebang</code>: uma linha que come√ßa com <code class="language-plaintext highlighter-rouge">#!</code> seguido do
caminho absoluto do programa que vai executar e interpretar o script.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="c"># abobrinha bla bla bla ble</span>
</code></pre></div></div>

<p>Em alguns casos, sem a <code class="language-plaintext highlighter-rouge">shebang</code>, seu Shell vai receber o erro de execu√ß√£o do kernel, e vai executar um
mecanismo que chamamos de <em>fallback</em>, e vai por conta pr√≥pria escolher um interpretador para o seu script,
geralmente o <code class="language-plaintext highlighter-rouge">/bin/sh</code>, que √© o Shell padr√£o do sistema. Para o Shell, √© como se, ao receber esse erro, ele
dissesse: ‚ÄúAha, n√£o √© um programa compilado, ent√£o vou interpretar isso como um script Shell‚Äù; e a√≠ ele
executa o <code class="language-plaintext highlighter-rouge">/bin/sh</code> e passa o seu script como argumento para ele.</p>

<h3 id="vari√°veis">Vari√°veis</h3>

<p>Independentemente das linguagens de programa√ß√£o que voc√™ j√° estudou, provavelmente voc√™ j√° se deparou com o conceito de vari√°vel - um objeto capaz de reter e representar um valor ou express√£o.
Inclusive, voc√™ j√° se deparou com algumas, lembra do <code class="language-plaintext highlighter-rouge">$PATH</code>? Pois bem, essa √© uma das
vari√°veis que s√£o compartilhadas entre todos os programas, as chamadas vari√°veis de ambiente, mas veremos
mais sobre isso no futuro.</p>

<p>Voc√™ pode criar e usar vari√°veis num script da seguintes maneira:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">fruta</span><span class="o">=</span>banana
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$fruta</span><span class="s2">"</span>
<span class="c"># Vai imprimir "banana", aqui o Shell expande a vari√°vel</span>
<span class="nb">echo</span> <span class="nv">$fruta</span>
<span class="c"># Tamb√©m vai imprimir "banana", mas n√£o √© recomendado,</span>
<span class="c"># pois o Shell pode usar certos processamentos e resultar em comportamente idesejado</span>
<span class="nb">echo</span> <span class="s1">'$fruta'</span>
<span class="c"># Vai imprimir "$fruta", pois o Shell n√£o vai expandir a vari√°vel</span>
</code></pre></div></div>

<p>Al√©m das vari√°veis especiais que j√° vimos, existem outras que s√£o cl√°ssicas e muito ut√©is. Por exemplo, lembra
que alguns dos programas que voc√™ utilizou recebiam argumentos? Pois bem, existem vari√°veis que armazenam
os argumentos do √∫ltimo programa que voc√™ executou. Digamos que voc√™ tenha um script chamado
<code class="language-plaintext highlighter-rouge">omelhorscript.sh</code>, e voc√™ o executou:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span>./omelhorscript.sh arg1 arg2 arg3 arg4 arg6 ... arg9
</code></pre></div></div>

<p>Quando ele come√ßar a ser interpretado, seu sistema vai ter armazenado o valor de cada argumento passado
na √∫ltima linha de comando, e voc√™ pode acessar esses valores pelas vari√°veis <code class="language-plaintext highlighter-rouge">$0</code> <code class="language-plaintext highlighter-rouge">$1</code>, <code class="language-plaintext highlighter-rouge">$2</code>, <code class="language-plaintext highlighter-rouge">$3</code>, ‚Ä¶,
<code class="language-plaintext highlighter-rouge">$9</code>.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"O nome do script √© </span><span class="nv">$0</span><span class="s2">"</span>
<span class="c"># Esse comando vai imprimir "O nome do script √© omelhorscript.sh"</span>
<span class="nb">echo</span> <span class="s2">"O primeiro argumento √© </span><span class="nv">$1</span><span class="s2">"</span>
<span class="c"># Esse comando vai imprimir "O primeiro argumento √© arg1"</span>
<span class="nb">echo</span> <span class="s2">"O segundo argumento √© </span><span class="nv">$2</span><span class="s2">"</span>
<span class="c"># Esse comando vai imprimir "O segundo argumento √© arg2"</span>
<span class="c"># assim por diante</span>
<span class="nb">echo</span> <span class="s2">"O nono argumento √© </span><span class="nv">$9</span><span class="s2">"</span>
</code></pre></div></div>

<p>Alternativamente, para al√©m do nono argumento e a partir do <code class="language-plaintext highlighter-rouge">$0</code>, a vari√°vel <code class="language-plaintext highlighter-rouge">$@</code> armazena todos os
argumentos passados:</p>

<p>Imagine o outro script <code class="language-plaintext highlighter-rouge">osegundomelhorscript.sh</code>:</p>

<ul>
  <li>
    <p>Voc√™ o executou com:</p>

    <div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span>./osegundomelhorscript 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
</code></pre></div>    </div>
  </li>
  <li>
    <p>E a sua implementa√ß√£o √©:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
<span class="c"># Vai imprimir "1 2 3 4 5 6 7 8 9 10 11 12 13 14 15"</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Outra vari√°vel interessante √© a <code class="language-plaintext highlighter-rouge">$PWD</code>, que armazena o diret√≥rio atual que o script est√° sendo executado.</p>

<h3 id="expans√µes">Expans√µes</h3>

<h4 id="expans√£o-de-comandos-e-vari√°veis">Expans√£o de comandos e vari√°veis</h4>

<p>O que observamos at√© agora sobre o Shell, em rela√ß√£o √†s vari√°veis, √© o que chamamos de expans√£o. O s√≠mbolo $, precedendo o nome da vari√°vel, faz com que o Shell substitua o nome da vari√°vel pelo seu valor. No entanto, o Shell n√£o se limita apenas a isso. Voltando ao exemplo da declara√ß√£o de vari√°veis, podemos utilizar a sintaxe <code class="language-plaintext highlighter-rouge">$()</code> para expandir o valor produzido como sa√≠da por um determinado comando.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c"># O valor armazenado pela vari√°vel `hoje` ser√° o resultado do comando `date`</span>
<span class="nv">hoje</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span><span class="si">)</span>
<span class="nb">echo</span> <span class="s2">"Hoje √© </span><span class="nv">$hoje</span><span class="s2">"</span>
</code></pre></div></div>

<h4 id="expans√£o-aritm√©tica">Expans√£o aritm√©tica</h4>

<p>O Shell tamb√©m √© capaz de realizar a expans√£o de opera√ß√µes aritm√©ticas, a sintaxe para isso √© <code class="language-plaintext highlighter-rouge">$((express√£o))</code>, um exemplo de uso seria:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">numero1</span><span class="o">=</span>10
<span class="nv">numero2</span><span class="o">=</span>42
<span class="nb">echo</span> <span class="k">$((</span>numero1 <span class="o">+</span> numero2<span class="k">))</span>
<span class="c"># Alternativamente</span>
<span class="nb">echo</span> <span class="k">$((</span><span class="m">10</span> <span class="o">+</span> <span class="m">42</span><span class="k">))</span>
</code></pre></div></div>

<hr />

<h4 id="nota">Nota</h4>

<p>Perceba que dentro de aspas que todas expans√µes n√£o occorem dentro de ap√≥strofos, mas continuam funcionando
dentro de aspas duplas.</p>

<hr />

<h3 id="condicionais">Condicionais</h3>

<h3 id="operadores-l√≥gicos-no-shell">Operadores l√≥gicos no Shell</h3>

<p><a href="/minicurso-demons-mat/primeiroDia.html#combinando-comandos-usando-pipelines">Lembra do <em>cliffhanger</em> da aula passada?</a>, espero que voc√™ tenha percebido que lidar com
valores booleanos (<code class="language-plaintext highlighter-rouge">verdadeiro</code> e <code class="language-plaintext highlighter-rouge">false</code>) no Shell √© conveniente para n√≥s, para que possamos tomar decis√µes baseadas no resultados
de comandos. Por√©m, antes de lidarmos diretamentes com essas opera√ß√µes, precisamos entender o que s√£o
status de sa√≠da, visto que eles definem se o programa executou normalmente ou houve algum problema.</p>

<h4 id="status-de-sa√≠da">Status de sa√≠da</h4>

<p>Comandos no Linux, ao terminarem, retornam ao sistema um valor que chamamos de status de sa√≠da. Esse valor
√© um inteiro que varia de 0 a 255, no qual, por conven√ß√£o, 0 significa que o programa terminou com sucesso e
qualquer outro valor indica diferentes tipos de problema, especificados pelo comando. Na pr√°tica, podemos
visualizar isso da seguinte forma:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">ls</span> <span class="nt">-d</span> /usr/bin
<span class="go">/usr/bin
</span><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$?</span>
<span class="go">0
</span><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">ls</span> <span class="nt">-d</span> /bin/usr
<span class="go">ls: cannot access '/bin/usr': No such file or directory
</span><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$?</span>
<span class="go">2
</span></code></pre></div></div>

<p>Esse <code class="language-plaintext highlighter-rouge">$?</code>, na verdade, √© um v√°riavel especial do Shell, assim como o <code class="language-plaintext highlighter-rouge">$PATH</code>, que guarda o status de sa√≠da
do √∫ltimo comando. Na primeira vez que executamos o <code class="language-plaintext highlighter-rouge">ls</code>, o status de sa√≠da foi 0, indicando que o comando
terminou com sucesso, e, na segunda vez, o status de sa√≠da foi 2, indicando que houve algum tipo de problema.
Podemos investigar qual problema ocorreu, consultando o manual do <code class="language-plaintext highlighter-rouge">ls</code>, ou, se houver, lendo a mensagem de erro.</p>

<p>O Shell tem dois comandos extremamente simples que n√£o fazem nada al√©m de terminar com o status de sa√≠da
0 ou 1, o <code class="language-plaintext highlighter-rouge">true</code> e o <code class="language-plaintext highlighter-rouge">false</code>, respectivamente.</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">true</span>
<span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$?</span>
<span class="go">0
</span><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">false</span>
<span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$?</span>
<span class="go">1
</span></code></pre></div></div>

<h4 id="conjun√ß√£o-e-disjun√ß√£o">Conjun√ß√£o e disjun√ß√£o</h4>

<p>Os status de sa√≠da geralmente s√£o usados para lidar com condicionais, ou seja, opera√ß√µes l√≥gicas que
conhecemos como disjun√ß√£o (<code class="language-plaintext highlighter-rouge">||</code>) e conjun√ß√£o (<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>). A disjun√ß√£o ou o <code class="language-plaintext highlighter-rouge">e</code> no Portugu√™s, vai ser avaliada
como verdadeira se os dois operandos forem verdadeiros, e a conjun√ß√£o ou o <code class="language-plaintext highlighter-rouge">ou</code> no portugu√™s, √© vai ser
verdadeira se pelo menos um dos operandos for verdadeiro. Podemos visualizar isso como:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">false</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"Opa, vou imprimir isso"</span>
<span class="c"># Como o primeiro √© falso, o segundo vai ser avaliado</span>

<span class="nb">true</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"N√£o vou ser imprimido"</span>
<span class="c"># Como o primeiro √© verdadeiro, o segundo n√£o vai ser avaliado</span>

<span class="nb">true</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"Things went well"</span>
<span class="c"># Como o primeiro √© verdadeiro, o segundo vai ser avaliado</span>

<span class="nb">false</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"Will not be printed"</span>
<span class="c"># Como o primeiro √© falso, n√£o preciso nem avaliar o segundo</span>

<span class="nb">true</span> <span class="p">;</span> <span class="nb">echo</span> <span class="s2">"Vai sempre rodar"</span>
<span class="c"># De extra, o `;` √© um separador de comandos, logo o segundo comando vai ser executado,</span>
<span class="c"># independentemente do status do primeiro</span>

<span class="nb">false</span> <span class="p">;</span> <span class="nb">echo</span> <span class="s2">"Sou imbat√≠vel"</span>
</code></pre></div></div>

<p>O que o <code class="language-plaintext highlighter-rouge">&amp;&amp;</code> e o <code class="language-plaintext highlighter-rouge">||</code> fazem √© o que chamamos de curto circuito: baseado na primeira express√£o, o interpretador
decide se vai avaliar o resto ou n√£o.</p>

<h4 id="if-elif-else-fi">if-elif-else-fi</h4>

<p>Al√©m das vari√°veis, tamb√©m temos as condicionais, que funcionam de um jeito um pouco diferente. Os
valores booleanos, ou seja, <code class="language-plaintext highlighter-rouge">true</code> e <code class="language-plaintext highlighter-rouge">false</code>, s√£o representados pelos c√≥digos de sa√≠da de cada programa,
como visto no t√≥pico de <a href="/minicurso-demons-mat/primeiroDia.html#operadores-l√≥gicos-no-Shell">operadores l√≥gicos</a>. Consequementemente, o jeito mais imediato de usar condicionais √© com os <em>if statements</em>, e a sintaxe para
isso √©:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if  </span>comando <span class="p">;</span> <span class="k">then</span>
  <span class="c"># c√≥digo</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>(<code class="language-plaintext highlighter-rouge">fi</code> √© <code class="language-plaintext highlighter-rouge">if</code> de tr√°s pra frente, e √© o comando que fecha o bloco de c√≥digo do <code class="language-plaintext highlighter-rouge">if</code>)</p>

<p>O c√≥digo s√≥ ser√° executado se o <code class="language-plaintext highlighter-rouge">comando</code> tiver 0 como c√≥digo de sa√≠da, e voc√™ pode adicionar um <code class="language-plaintext highlighter-rouge">else</code>,
que √© executado se o c√≥digo de sa√≠da for diferente de 0.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if </span>comando <span class="p">;</span> <span class="k">then</span>
  <span class="c"># c√≥digo</span>
<span class="k">else</span>
  <span class="c"># c√≥digo</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>N√° pr√°tica, n√≥s podemos fazer algo como:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c"># Tue √© a abrevia√ß√£o de Tuesday, que √© ter√ßa em ingl√™s</span>
<span class="k">if </span><span class="nb">date</span> | <span class="nb">grep</span> <span class="nt">-q</span> <span class="s2">"Tue"</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"Hoje √© ter√ßa"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"Hoje n√£o √© ter√ßa"</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>Se o <code class="language-plaintext highlighter-rouge">grep</code> encontrar a express√£o <code class="language-plaintext highlighter-rouge">True</code> no output do comando <code class="language-plaintext highlighter-rouge">date</code>, o c√≥digo de sa√≠da do <code class="language-plaintext highlighter-rouge">grep</code> vai ser 0.
Logo o dia de hoje ser√° ter√ßa, caso contr√°rio, n√£o ser√°.</p>

<p>Al√©m disso, temos o <code class="language-plaintext highlighter-rouge">elif</code>, uma abrevia√ß√£o de <code class="language-plaintext highlighter-rouge">else if</code>, e √© utilizado para adicionar mais condi√ß√µes
a um <code class="language-plaintext highlighter-rouge">if</code>.</p>

<h4 id="express√µes-l√≥gicas">Express√µes l√≥gicas</h4>

<p>Outra forma de usar condicionais √© usando o comando <code class="language-plaintext highlighter-rouge">test</code>, que avalia express√µes l√≥gicas e retorna 0 se a
express√£o for verdadeira e 1 se for falsa. A sintaxe √© a seguinte:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">if </span><span class="nb">test </span>express√£o <span class="p">;</span> <span class="k">then</span>
  <span class="c"># c√≥digo</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>Naturalmente, as op√ß√µes que o <code class="language-plaintext highlighter-rouge">test</code> aceita imitam as express√µes que conhecemos na matem√°tica e em outras
linguagens de programa√ß√£o, por exemplo, o <code class="language-plaintext highlighter-rouge">-eq</code> representa a igualdade entre dois n√∫meros
<code class="language-plaintext highlighter-rouge">(1 -eq 0</code> ‚âÖ <code class="language-plaintext highlighter-rouge">1 == 0</code>), o <code class="language-plaintext highlighter-rouge">-lt</code> representa a desigualdade entre dois n√∫meros (<code class="language-plaintext highlighter-rouge">1 -lt 0</code> ‚âÖ <code class="language-plaintext highlighter-rouge">1 &lt; 0</code>), e assim
por diante. Voc√™ pode verificar todas usando o manual (<code class="language-plaintext highlighter-rouge">man test</code>).</p>

<p>Alternativamente, os <code class="language-plaintext highlighter-rouge">[]</code> servem como um alias para o <code class="language-plaintext highlighter-rouge">test</code></p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">if</span> <span class="o">[</span> express√£o <span class="o">]</span> <span class="p">;</span> <span class="k">then</span>
  <span class="c"># c√≥digo</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>Algumas das express√µes l√≥gicas mais utilizadas s√£o:</p>

<ul>
  <li>
    <p><strong>Para inteiros e strings:</strong></p>

    <table>
      <thead>
        <tr>
          <th>Operador</th>
          <th>Verdade se..</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">string</code></td>
          <td><code class="language-plaintext highlighter-rouge">string</code> n√£o √© vazia.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">s1 = s2</code></td>
          <td>a strings <code class="language-plaintext highlighter-rouge">s1</code> e <code class="language-plaintext highlighter-rouge">s2</code> s√£o iguais.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">s1 != s2</code></td>
          <td>as string <code class="language-plaintext highlighter-rouge">s1</code> e <code class="language-plaintext highlighter-rouge">s2</code> n√£o s√£o iguais.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">n1 -eq n2</code></td>
          <td><code class="language-plaintext highlighter-rouge">n1</code> e <code class="language-plaintext highlighter-rouge">n2</code> s√£o iguais.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">n1 -gt n2</code></td>
          <td><code class="language-plaintext highlighter-rouge">n1</code> √© maior que <code class="language-plaintext highlighter-rouge">n2</code>.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">n1 -lt n2</code></td>
          <td><code class="language-plaintext highlighter-rouge">n1</code> √© menor que <code class="language-plaintext highlighter-rouge">n2</code>.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">n1 -ge n2</code></td>
          <td><code class="language-plaintext highlighter-rouge">n1</code> √© maior ou igual a <code class="language-plaintext highlighter-rouge">n2</code>.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">n1 -le n2</code></td>
          <td><code class="language-plaintext highlighter-rouge">n1</code> √© menor ou igual a <code class="language-plaintext highlighter-rouge">n2</code>.</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p><strong>Para arquivos e diret√≥rios:</strong></p>

    <table>
      <thead>
        <tr>
          <th>Operador</th>
          <th>Verdade se</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-e arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> existe.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-d arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> √© um diret√≥rio.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-f arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> √© um arquivo regular.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-r arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> tem permiss√£o de leitura.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-w arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> tem permiss√£o de escrita.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-x arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> tem permiss√£o de execu√ß√£o.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-s arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> n√£o est√° vazio.</td>
        </tr>
        <tr>
          <td><code class="language-plaintext highlighter-rouge">-L arquivo</code></td>
          <td>O <code class="language-plaintext highlighter-rouge">arquivo</code> √© um link simb√≥lico.</td>
        </tr>
      </tbody>
    </table>
  </li>
</ul>

<p>Cada teste pode ser negado com um <code class="language-plaintext highlighter-rouge">!</code> antes do operador. Por exemplo: <code class="language-plaintext highlighter-rouge">! -e arquivo</code> √© verdadeiro se o n√£o
existe. Vamos experimentar um pouco com isso:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then 
  </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> √© um arquivo regular"</span>
<span class="k">elif</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> √© um diret√≥rio"</span>
<span class="k">else
  </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> n√£o √© um arquivo regular nem um diret√≥rio"</span>
<span class="k">fi</span>
</code></pre></div></div>

<p>Por ser tamb√©m um comando, podemos combinar o <code class="language-plaintext highlighter-rouge">test</code> com outras inst√¢ncias de <code class="language-plaintext highlighter-rouge">test</code> usando os operadores
que j√° conhecemos:</p>

<ul>
  <li>
    <p><em>Usando a conjun√ß√£o (<code class="language-plaintext highlighter-rouge">&amp;&amp;</code>):</em></p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nt">-r</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> √© um arquivo regular e tem permiss√£o de leitura"</span>
<span class="k">fi</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Usando a disjun√ß√£o (<code class="language-plaintext highlighter-rouge">||</code>):</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
  </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> √© um arquivo regular ou um diret√≥rio"</span>
<span class="k">fi</span>
</code></pre></div>    </div>
  </li>
</ul>

<hr />

<h4 id="nota-1">Nota</h4>

<p>Na compara√ß√£o de strings existe uma certa conven√ß√£o, pois, se o valor da string for vazio, o <code class="language-plaintext highlighter-rouge">test</code> pode
ficar confuso, especialmente se voc√™ n√£o usar aspas. Por exemplo:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">string</span><span class="o">=</span><span class="s2">""</span>
<span class="nb">test</span> <span class="nv">$string</span> <span class="o">=</span> <span class="s2">"banana"</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<span class="c"># O seu Shell vai retornar um error, pois o comando `test` vai receber 3 argumentos</span>
</code></pre></div></div>

<p>Ent√£o, al√©m de sempre ser recomendado usar aspas, existe uma conven√ß√£o de prefixar uma string (conjunto de caracteres) com ‚ÄúX‚Äù
durante a compara√ß√£o, para que esse tipo de erro aconte√ßa, por exemplo:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="nv">string</span><span class="o">=</span><span class="s2">""</span>
<span class="nb">test</span> <span class="s2">"X</span><span class="nv">$string</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"Xbanana"</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<span class="c"># Note a diferen√ßa no status de sa√≠da</span>
</code></pre></div></div>

<p>Agora, a compara√ß√£o n√£o vai resultar em um erro, pois o <code class="language-plaintext highlighter-rouge">test</code> vai receber a quantidade certa de argumentos</p>

<hr />

<h3 id="fun√ß√µes">Fun√ß√µes</h3>

<p>Se voc√™ est√° come√ßando agora na programa√ß√£o, provavelmente ainda n√£o deve estar completamente familiarizado
com o conceito de fun√ß√µes, mas com certeza √© algo que voc√™ j√° usou muitas vezes sem perceber. Quando
voc√™ invoca um comando no Shell, seja com ou sem argumentos, voc√™ sempre espera uma determinada sa√≠da ou
resultado. E √© exatamente esse o comportamento de uma fun√ß√£o, exceto que, no contexto de linguagem de programa√ß√£o,
geralmente nos referimos a fun√ß√µes como blocos de c√≥digo independentes que realizam uma tarefa espec√≠fica
quando s√£o invocados.</p>

<h4 id="black-boxes">Black boxes</h4>

<p>Tanto na programa√ß√£o quanto na matem√°tica, fun√ß√µes s√£o enxergadas como caixas pretas, visto que n√£o
precisamos saber como elas funcionam, apenas o que elas recebem como entrada e o que elas retornam como
sa√≠da.</p>

<p>Quando definimos uma fun√ß√£o como uma <em>black box</em>, precisamos dizer qual √© seu nome, que tipo
de argumento ela recebe, e que tipo de argumento ela retorna. Por exemplo: Se $f$ √© fun√ß√£o e $x$ √© um argumento
que ela aceita, a aplica√ß√£o de $f$ em $x$ √© representada por $f(x)$, e o resultado √© o valor que ela ‚Äúretorna‚Äù.</p>

<div style="text-align: center;">
<img alt="fun√ß√µes como black boxes" src="assets/images/linux_dia2_imagem4.png" width="80%" />
</div>
<p><br /></p>

<ul>
  <li>Imagem retirada do livro <em>Matem√°tica Funcional para Computa√ß√£o</em>, Thanos Tsouanas. Dispon√≠vel em:</li>
</ul>
<p><a href="https://www.tsouanas.org/fmcbook/">https://www.tsouanas.org/fmcbook/</a></p>

<h4 id="fun√ß√µes-no-shell">Fun√ß√µes no Shell</h4>

<p>Tradicionalmente, para conseguirmos usar uma fun√ß√£o, precisamos defini-la, seja no in√≠cio do script
ou em um arquivo separado. A sintaxe para definir e usar uma fun√ß√£o √© a seguinte:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c"># Defini√ß√£o</span>
funcao<span class="o">()</span> <span class="o">{</span>
  <span class="c"># c√≥digo</span>
<span class="o">}</span>

<span class="c"># Uso</span>
funcao
</code></pre></div></div>

<p>Alguns exemplos de fun√ß√µes seriam:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="c"># Esta fun√ß√£o recebe como argumento algum nome, </span>
<span class="c"># cria um diret√≥rio com esse nome e muda para ele.</span>
mcd<span class="o">()</span> <span class="o">{</span>
  <span class="nb">mkdir</span> <span class="nt">-p</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
  <span class="nb">cd</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
  <span class="c"># O retorno de fun√ß√µes do Shell sempre s√£o seu c√≥digo de sa√≠da,</span>
  <span class="k">return</span> <span class="s2">"</span><span class="nv">$?</span><span class="s2">"</span>
  <span class="c"># Essencialmente podemos emitir esse campo, ou usar um c√≥digo de sa√≠da personalizado</span>
<span class="o">}</span>

<span class="c"># Esta fun√ß√£o recebe como argumento um nome de arquivo,</span>
<span class="c"># verifica se o arquivo existe ou n√£o e imprime uma mensagem</span>
regf<span class="o">()</span> <span class="o">{</span>
  <span class="nb">test</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2"> existe"</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2"> n√£o existe"</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Como n√£o invocamos essas fun√ß√£os no c√≥digo, nada vai acontecer. Mas podemos ‚Äúsourcear‚Äù o arquivo que as
cont√©m e invoc√°-las.</p>

<ul>
  <li>
    <p>‚ÄúSourceamos‚Äù com:</p>

    <div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">source </span>minhas_fun√ß√µes.sh
</code></pre></div>    </div>
  </li>
  <li>
    <p>E invocamos tradicionalmente:</p>

    <div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span>mcd meudiret√≥rio
<span class="gp">[user@hostname meudiret√≥rio]$</span><span class="w">
</span></code></pre></div>    </div>
  </li>
</ul>

<h3 id="loops">Loops</h3>

<p>Outro recurso muito caracter√≠stico de linguagens de programa√ß√£o no geral s√£o os <em>loops</em>: blocos de
c√≥digos que s√£o executados repetidamente at√© que uma condi√ß√£o de parada seja satisfeita (ou n√£o).</p>

<p>Essencialmente, no Shell, existem 3 tipos de loop, mas veremos apenas 2, o <code class="language-plaintext highlighter-rouge">for</code> e o <code class="language-plaintext highlighter-rouge">while</code>.</p>

<h4 id="while-loop"><code class="language-plaintext highlighter-rouge">while</code> loop</h4>

<p>O <code class="language-plaintext highlighter-rouge">while</code> √© um loop que executa um bloco de c√≥digo enquanto uma condi√ß√£o for verdadeira, por exemplo,<br />
voltando para os nossos exemplos de <a href="#express√µes-l√≥gicas">express√µes l√≥gicas</a>, poderiamos criar um <code class="language-plaintext highlighter-rouge">while</code> da seguinte maneira:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c">#!/bin/sh</span>
  <span class="k">while</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nt">-r</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> √© um arquivo regular e tem permiss√£o de leitura"</span>
  <span class="k">done</span>
</code></pre></div></div>

<p>Se, por acaso, o arquivo que passamos como argumento for regular e tiver permiss√£o de leitura, o bloco de
c√≥digo vai ser executado at√© que se altere o arquivo ou a permiss√£o dele.</p>

<h4 id="break"><code class="language-plaintext highlighter-rouge">break</code></h4>

<p>O <code class="language-plaintext highlighter-rouge">break</code> √© um comando que geralmente √© utilizado dentro de loops para evitar que o loop continue
infinitamente, e evitar casos como o anterior.</p>

<p>Aproveitando o exemplo anterior, poderiamos usar o <code class="language-plaintext highlighter-rouge">break</code> para sair do loop caso a condi√ß√£o seja
satisfeita.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c">#!/bin/sh</span>
  <span class="k">while</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="nt">-r</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">do
    </span><span class="nb">echo</span> <span class="s2">"O arquivo </span><span class="nv">$1</span><span class="s2"> √© um arquivo regular e tem permiss√£o de leitura"</span>
    <span class="nb">break
  </span><span class="k">done</span>
</code></pre></div></div>

<p>(Note que o bloco de codigo dentro do loop s√≥ vai ser executado uma vez).</p>

<h4 id="for-loop"><code class="language-plaintext highlighter-rouge">for</code> loop</h4>

<p>O <code class="language-plaintext highlighter-rouge">for</code> itera sobre uma lista de elementos, e executa um bloco de c√≥digo para cada elemento da lista. Por
exemplo, poderiamos usar o <code class="language-plaintext highlighter-rouge">for</code> para iterar sobre uma lista de argumentos de comando:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/sh</span>
<span class="k">for </span>argumento <span class="k">in</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span><span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="s2">"O argumento √© </span><span class="nv">$argumento</span><span class="s2">"</span>
<span class="k">done</span>
</code></pre></div></div>

<p>Al√©m disso, podemos usar o <code class="language-plaintext highlighter-rouge">for</code> para iterar sobre arquivos e diret√≥rios. Por exemplo, para listar todos os
arquivos do diret√≥rio atual:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>arquivo <span class="k">in</span> <span class="k">*</span><span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$arquivo</span><span class="s2">"</span>
<span class="k">done</span>
</code></pre></div></div>

<p>Alternativamente, se quisermos listar todos os arquivos de um diret√≥rio espec√≠fico, a partir de um <code class="language-plaintext highlighter-rouge">for</code>:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for </span>arquivo <span class="k">in</span> /caminho/para/diret√≥rio/<span class="k">*</span><span class="p">;</span> <span class="k">do
  </span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$arquivo</span><span class="s2">"</span>
<span class="k">done</span>
</code></pre></div></div>

<h1 id="exerc√≠cios">Exerc√≠cios</h1>

<h2 id="orienta√ß√µes-sobre-os-exerc√≠cios">Orienta√ß√µes sobre os exerc√≠cios</h2>

<p>Envie os exerc√≠cios de cada dia <em>separados</em> para o email <code class="language-plaintext highlighter-rouge">linuxgitpetcc@gmail.com</code> com o assunto sempre sendo: <code class="language-plaintext highlighter-rouge">Dia (dia de aula) - (Nome do aluno)</code></p>

<h2 id="exerc√≠cios-de-revis√£o-da-aula-passada">Exerc√≠cios de Revis√£o da aula passada</h2>

<h3 id="exerc√≠cio-1">Exerc√≠cio 1</h3>

<p>Em programas em C que envolvem muitos arquivos, √© comum querermos configurar nosso projeto de modo que facilite o gerenciamento de multiplos arquivos. Entretanto, como voc√™ gosta de iniciar muitos projetos, voc√™ n√£o quer precisar criar, repetidas vezes, arquivos que sempre v√£o estar no seu projeto. Por isso, vamos criar um programa que automatize isso.</p>

<p>Imagine que voc√™ sempre organiza seu projeto baseado nessa estrutura.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
‚îú‚îÄ‚îÄ build
‚îú‚îÄ‚îÄ test
‚îú‚îÄ‚îÄ lib
‚îÇ   ‚îî‚îÄ‚îÄ text_color.h
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ include
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ header.h
‚îÇ   ‚îî‚îÄ‚îÄ main.c
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îú‚îÄ‚îÄ LICENSE
‚îî‚îÄ‚îÄ README.md
</code></pre></div></div>

<ol>
  <li>No diret√≥rio <code class="language-plaintext highlighter-rouge">/tmp/petcc/ex006</code>, crie o arquivo <code class="language-plaintext highlighter-rouge">c_project_cfg.sh</code>.</li>
  <li>
    <p>Dentro desse arquivo, adicione a seguinte linha.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c">#!/bin/bash</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Ap√≥s essa linha, anexe os comandos necess√°rios para criar a estrutura do projeto acima.
Seu arquivo no final deve ficar assim:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c">#!/bin/bash</span>
 <span class="c"># Comando 1</span>
 <span class="c"># Comando 2</span>
 <span class="c"># Comando 3</span>
</code></pre></div>    </div>
  </li>
  <li>Para escrever linhas no arquivo, use apenas comandos de redirecionamento, escreva quais foram esses comandos no <code class="language-plaintext highlighter-rouge">/tmp/petcc/ex006/answer.txt</code></li>
</ol>

<h3 id="exerc√≠cio-2">Exerc√≠cio 2</h3>

<ol>
  <li>Em uma linha, digite a combina√ß√£o de comando que cria um diret√≥rio chamado <code class="language-plaintext highlighter-rouge">myfolder</code> em <code class="language-plaintext highlighter-rouge">/tmp</code> e, somente se esse diret√≥rio tenha sido criado com sucesso, crie um arquivo chamado <code class="language-plaintext highlighter-rouge">myinfo.txt</code>.</li>
  <li>Escreva essa linha de comando no arquivo <code class="language-plaintext highlighter-rouge">/tmp/petcc/ex003/resposta.sh</code></li>
</ol>

<h2 id="exerc√≠cios-da-aula-de-hoje">Exerc√≠cios da aula de hoje</h2>

<h3 id="exerc√≠cio-1-1">Exerc√≠cio 1</h3>

<p>Instale o Yazi ü¶Ü!</p>

<p>Baixe o arquivo compactado com o bin√°rio <a href="https://github.com/sxyazi/yazi/releases">daqui</a>, escolha a
vers√£o <code class="language-plaintext highlighter-rouge">yazi-x86_64-unknown-linux-gnu.zip</code> e fa√ßa o que for necess√°rio para que o programa <code class="language-plaintext highlighter-rouge">yazi</code> seja
execut√°vel em qualquer lugar do seu sistema.</p>

<ul>
  <li>Para descompactar, use o comando <code class="language-plaintext highlighter-rouge">unzip</code>.</li>
</ul>

<p>Como resolu√ß√£o, descreva os passos que voc√™ fez para instalar o programa em um arquivo de texto, por exemplo: <code class="language-plaintext highlighter-rouge">ans0201.txt</code>.</p>

<h3 id="exerc√≠cio-2-1">Exerc√≠cio 2</h3>

<p>Instale o Discord üéÆ!</p>

<p>Baixe o arquivo <code class="language-plaintext highlighter-rouge">.tar.gz</code> do <a href="https://discord.com/">site oficial</a>, investigue o comando <code class="language-plaintext highlighter-rouge">tar</code> com <code class="language-plaintext highlighter-rouge">man tar</code>
e fa√ßa o que for necess√°rio para que o programa <code class="language-plaintext highlighter-rouge">discord</code> seja execut√°vel em qualquer lugar do seu sistema.</p>

<p>Como resolu√ß√£o, descreva os passos que voc√™ fez para instalar o programa em um arquivo de texto, por exemplo: <code class="language-plaintext highlighter-rouge">ans0202.txt</code>.</p>

<h3 id="exerc√≠cio-3">Exerc√≠cio 3</h3>

<p>Investigue o <code class="language-plaintext highlighter-rouge">ls</code> com <code class="language-plaintext highlighter-rouge">man ls</code>, e crie uma varia√ß√£o do comando (alias) <code class="language-plaintext highlighter-rouge">ls</code> com suas op√ß√µes que lista os arquivos
da seguinte maneira:</p>

<ul>
  <li>Lista dotfiles</li>
  <li>Os tamanhos s√£o listados de forma humanamente leg√≠vel.</li>
  <li>Os arquivos s√£o ordenados por ordem de modifica√ß√£o.</li>
  <li>A sa√≠da √© colorida.</li>
</ul>

<p>Um exemplo de sa√≠da seria:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> -rw-r--r--   1 user group 1.1M Jan 14 09:53 baz
 drwxr-xr-x   5 user group  160 Jan 14 09:53 .
 -rw-r--r--   1 user group  514 Jan 14 06:42 bar
 -rw-r--r--   1 user group 106M Jan 13 12:12 foo
 drwx------+ 47 user group 1.5K Jan 12 18:08 ..
</span></code></pre></div></div>

<p>Como resolu√ß√£o ser√° aceita a linha de comando que voc√™ usou para criar o alias em formato de arquivo
de texto.</p>

<h3 id="exerc√≠cio-4">Exerc√≠cio 4</h3>

<p>Fa√ßa um script para backup!</p>

<p>O seu programa deve receber apenas um argumento: o nome do arquivo ou diret√≥rio que voc√™ quer fazer backup.</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">bak.sh FILE 
</span></code></pre></div></div>

<p>Exemplo de uso:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">Downloads Documents Pictures
</span><span class="gp">[user@hostname ~]$</span><span class="w"> </span>sh bak.sh Downloads
<span class="gp">[user@hostname ~]$</span><span class="w"> </span><span class="nb">ls</span>
<span class="go">Downloads Downloads.bak Documents Pictures
</span></code></pre></div></div>

<p>Se o argumento passado for um diret√≥rio, todos os seus arquivos e sub-diret√≥rios tamb√©m devem sofrer backup.
Caso contr√°rio, apenas o arquivo passado como argumento deve ser copiado.</p>

<p>Al√©m disso, o arquivo gerado deve ter a extens√£o <code class="language-plaintext highlighter-rouge">.bak</code> e deve ser salvo no mesmo diret√≥rio que o arquivo.</p>

<p>Ser√° aceito como resolu√ß√£o o arquivo de c√≥digo que voc√™ usou para implementar o programa.</p>

<h3 id="exerc√≠cio-5">Exerc√≠cio 5</h3>

<p>Escreva fun√ß√µes <code class="language-plaintext highlighter-rouge">sh</code>, chamadas <code class="language-plaintext highlighter-rouge">marco</code> e <code class="language-plaintext highlighter-rouge">polo</code> que fazem o seguinte:</p>

<ul>
  <li>Toda vez que voc√™ chamar a fun√ß√£o <code class="language-plaintext highlighter-rouge">marco</code>, ela salva o diret√≥rio atual de alguma forma.</li>
  <li>Toda vez que voc√™ chamar a fun√ß√£o <code class="language-plaintext highlighter-rouge">polo</code>, ela muda para o diret√≥rio salvo pela fun√ß√£o <code class="language-plaintext highlighter-rouge">marco</code>.</li>
</ul>

<p>Lembre-se de usar o <code class="language-plaintext highlighter-rouge">source</code> para recarregar as defini√ß√µes para seu Shell.</p>

<p>Como resolu√ß√£o, aceitaremos o(s) arquivo(s) de c√≥digo que voc√™ usou para implementar as fun√ß√µes</p>

<h3 id="exerc√≠cio-6">Exerc√≠cio 6</h3>

<p>Crie um programa para ser usado na linha de comando que permita os usu√°rios realizar opera√ß√µes b√°sicas,
como criar, listar e excluir arquivos e diret√≥rios. O aplicativo deve aceitar op√ß√µes e argumentos para
especificar a a√ß√£o a ser realizada.</p>

<p>Supondo que <code class="language-plaintext highlighter-rouge">$</code> √© o prompt do seu Shell, o programa deve funcionar da seguinte maneira:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>./fm
<span class="go">Usage: ./fm [OPTION]... FILE...

Options:
  -h, --help     Show this help message and exit
  -l, --list     List all files in the current directory
  -c, --create   Create a new file
  -d, --delete   Delete a file
</span></code></pre></div></div>

<p>Note que seu programa pode receber m√∫ltiplos arquivos e op√ß√µes, al√©m de que a ordem dos argumentos n√£o deve
importar.</p>

<ul>
  <li>Dica: Use o caminho do <code class="language-plaintext highlighter-rouge">bash</code> no shebang, para ter acesso ao operador <code class="language-plaintext highlighter-rouge">+=</code> que concatena elementos em um array.</li>
</ul>

<p>Ser√° aceito como resolu√ß√£o, o arquivo de c√≥digo que voc√™ usou para implementar o programa</p>

<hr />
<script>
const dataDia2 = new Date('2025-03-11');
const agora = new Date();

if (agora < dataDia2) {
    document.body.innerHTML = '<h1 style="text-align:center; margin-top:20%;">P√°gina Indispon√≠vel</h1>' +
                              '<p style="text-align:center;">Esta p√°gina estar√° dispon√≠vel a partir de ' + dataDia2.toLocaleDateString() + '.</p>';
}
</script>

<div class="small center">
<p>&copy; PET-CC/UFRN 2024 Licenciado sob <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.pt-br">CC BY-NC-SA</a>.</p>
</div>


            </main>
            <script src="./assets/js/sumario_script.js"></script>
        </div>
    </body>
</html>
